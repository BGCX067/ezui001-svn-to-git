<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="user_behavior_log" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="cn.vstore.appserver.model.UserBehaviorLog" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Jul 29 10:11:32 CST 2011.
    -->
    <result column="LOG_UID" property="logUid" jdbcType="BIGINT" />
    <result column="USER_ID" property="userId" jdbcType="VARCHAR" />
    <result column="ICCID" property="iccid" jdbcType="VARCHAR" />
    <result column="IMEI" property="imei" jdbcType="VARCHAR" />
    <result column="APP_ID" property="appId" jdbcType="VARCHAR" />
    <result column="VERSION_ID" property="versionId" jdbcType="INTEGER" />
    <result column="OPEN_TIME" property="openTime" jdbcType="TIMESTAMP" />
    <result column="LOG_DATE" property="logDate" jdbcType="TIMESTAMP" />
    <result column="MODEL_NAME" property="modelName" jdbcType="VARCHAR" />
    <result column="IS_DELETE" property="isDelete" jdbcType="DOUBLE" />
    <result column="USER_UID" property="userUid" jdbcType="VARCHAR" />
    <result column="STORE_ID" property="storeId" jdbcType="BIGINT" />
  </resultMap>
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="cn.vstore.appserver.model.UserBehaviorLog" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Jul 29 10:11:32 CST 2011.
    -->
    select LOG_UID, USER_ID, ICCID, IMEI, APP_ID, VERSION_ID, OPEN_TIME, LOG_DATE, MODEL_NAME,
      IS_DELETE, USER_UID, STORE_ID
    from user_behavior_log
    where LOG_UID = #logUid:BIGINT#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="cn.vstore.appserver.model.UserBehaviorLog" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Jul 29 10:11:32 CST 2011.
    -->
    delete from user_behavior_log
    where LOG_UID = #logUid:BIGINT#
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="cn.vstore.appserver.model.UserBehaviorLog" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Jul 29 10:11:32 CST 2011.
    -->
    insert into user_behavior_log (USER_ID, ICCID, IMEI, APP_ID, VERSION_ID, OPEN_TIME, LOG_DATE,
      MODEL_NAME, IS_DELETE, USER_UID, STORE_ID)
    values (#userId:VARCHAR#, #iccid:VARCHAR#, #imei:VARCHAR#, #appId:VARCHAR#, #versionId:INTEGER#,
      #openTime:TIMESTAMP#, #logDate:TIMESTAMP#, #modelName:VARCHAR#, #isDelete:DOUBLE#,
      #userUid:VARCHAR#, #storeId:BIGINT#)
    <selectKey resultClass="java.lang.Long" keyProperty="logUid" >
      SELECT LAST_INSERT_ID()
    </selectKey>
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="cn.vstore.appserver.model.UserBehaviorLog" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Jul 29 10:11:32 CST 2011.
    -->
    insert into user_behavior_log
    <dynamic prepend="(" >
      <isNotNull prepend="," property="userId" >
        USER_ID
      </isNotNull>
      <isNotNull prepend="," property="iccid" >
        ICCID
      </isNotNull>
      <isNotNull prepend="," property="imei" >
        IMEI
      </isNotNull>
      <isNotNull prepend="," property="appId" >
        APP_ID
      </isNotNull>
      <isNotNull prepend="," property="versionId" >
        VERSION_ID
      </isNotNull>
      <isNotNull prepend="," property="openTime" >
        OPEN_TIME
      </isNotNull>
      <isNotNull prepend="," property="logDate" >
        LOG_DATE
      </isNotNull>
      <isNotNull prepend="," property="modelName" >
        MODEL_NAME
      </isNotNull>
      <isNotNull prepend="," property="isDelete" >
        IS_DELETE
      </isNotNull>
      <isNotNull prepend="," property="userUid" >
        USER_UID
      </isNotNull>
      <isNotNull prepend="," property="storeId" >
        STORE_ID
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="userId" >
        #userId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="iccid" >
        #iccid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="imei" >
        #imei:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appId" >
        #appId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="versionId" >
        #versionId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="openTime" >
        #openTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="logDate" >
        #logDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="modelName" >
        #modelName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="isDelete" >
        #isDelete:DOUBLE#
      </isNotNull>
      <isNotNull prepend="," property="userUid" >
        #userUid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="storeId" >
        #storeId:BIGINT#
      </isNotNull>
      )
    </dynamic>
    <selectKey resultClass="java.lang.Long" keyProperty="logUid" >
      SELECT LAST_INSERT_ID()
    </selectKey>
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="cn.vstore.appserver.model.UserBehaviorLog" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Jul 29 10:11:32 CST 2011.
    -->
    update user_behavior_log
    <dynamic prepend="set" >
      <isNotNull prepend="," property="userId" >
        USER_ID = #userId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="iccid" >
        ICCID = #iccid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="imei" >
        IMEI = #imei:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appId" >
        APP_ID = #appId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="versionId" >
        VERSION_ID = #versionId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="openTime" >
        OPEN_TIME = #openTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="logDate" >
        LOG_DATE = #logDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="modelName" >
        MODEL_NAME = #modelName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="isDelete" >
        IS_DELETE = #isDelete:DOUBLE#
      </isNotNull>
      <isNotNull prepend="," property="userUid" >
        USER_UID = #userUid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="storeId" >
        STORE_ID = #storeId:BIGINT#
      </isNotNull>
    </dynamic>
    where LOG_UID = #logUid:BIGINT#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="cn.vstore.appserver.model.UserBehaviorLog" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Jul 29 10:11:32 CST 2011.
    -->
    update user_behavior_log
    set USER_ID = #userId:VARCHAR#,
      ICCID = #iccid:VARCHAR#,
      IMEI = #imei:VARCHAR#,
      APP_ID = #appId:VARCHAR#,
      VERSION_ID = #versionId:INTEGER#,
      OPEN_TIME = #openTime:TIMESTAMP#,
      LOG_DATE = #logDate:TIMESTAMP#,
      MODEL_NAME = #modelName:VARCHAR#,
      IS_DELETE = #isDelete:DOUBLE#,
      USER_UID = #userUid:VARCHAR#,
      STORE_ID = #storeId:BIGINT#
    where LOG_UID = #logUid:BIGINT#
  </update>
  
  <select id="getUserBehaviorLogBy" resultMap="ibatorgenerated_BaseResultMap" parameterClass="java.util.HashMap" >
    select * from USER_BEHAVIOR_LOG where upper(USER_ID)=upper(#userId#) and ICCID=#iccid# and IMEI=#imei# and APP_ID=#appId# and VERSION_ID=#versionId# and OPEN_TIME=#openTime# and store_id=#storeId#
  </select>
  
<!--   <insert id="insert" parameterClass="cn.vstore.appserver.model.UserBehaviorLog" > -->
<!--    	insert into USER_BEHAVIOR_LOG (USER_ID,ICCID,IMEI,APP_ID,VERSION_ID,OPEN_TIME,MODEL_NAME,LOG_DATE,IS_DELETE,USER_UID)  -->
<!-- 	values (#userId#,#iccid#,#imei#,#appId#,#versionId#,#openTime#,#modelName#,NOW(),0,#userUid#) -->
<!--   </insert> -->
</sqlMap>